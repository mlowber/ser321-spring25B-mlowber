syntax = "proto3";

package services;

option java_multiple_files = true;
option java_package = "service";
option java_outer_classname = "TodoProto";

// To-Do List service
service Todo {
  // Add a new task
  rpc AddTask (AddTaskRequest) returns (AddTaskResponse) {}
  // List all tasks
  rpc ListTasks (ListTasksRequest) returns (ListTasksResponse) {}
  // Mark an existing task as done
  rpc MarkDone (MarkDoneRequest) returns (MarkDoneResponse) {}
}

message AddTaskRequest {
  string text = 1;
}

message AddTaskResponse {
  bool success = 1;
  int32 id = 2;
  string error = 3;
}

message ListTasksRequest {}

message ListTasksResponse {
  repeated TaskEntry tasks = 1;
}

message TaskEntry {
  int32 id = 1;
  string text = 2;
  bool done = 3;
}

message MarkDoneRequest {
  int32 id = 1;
}

message MarkDoneResponse {
  bool success = 1;
  string error = 2;
}
